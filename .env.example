# GnuTomb MCP Service Configuration Example
# Copy this file to .env and fill in your values.
# Ensure this file has strict permissions (chmod 600) and is NOT committed to Git.

# --- Filesystem Paths (Required) ---
# Directory on the HOST machine where encrypted session data directories will be created.
# The user running the service MUST have write permissions here. Recommended: /var/lib/gnutomb/sessions
STORAGE_BASE_PATH=/var/lib/gnutomb/sessions

# Directory on the HOST machine where session metadata JSON files will be stored.
# The user running the service MUST have write permissions here. Recommended: /var/lib/gnutomb/metadata
METADATA_PATH=/var/lib/gnutomb/metadata

# --- GnuPG Configuration (SERVICE_GPG_KEYID is Required) ---
# Optional: Path to the GnuPG home directory if non-standard (e.g., /var/lib/gnutomb/.gnupg)
# GNUPG_HOME=
# Optional: Full path to the gpg executable if not in system PATH
# GPG_BINARY=/usr/bin/gpg

# Required: GPG Key ID (long format/fingerprint preferred) used BY THE SERVICE
# to encrypt data FOR ITSELF. The corresponding private key must be in the keyring.
# Ideally, this private key should NOT have a passphrase, or gpg-agent must be configured.
SERVICE_GPG_KEYID=YOUR_SERVICE_GPG_KEY_FINGERPRINT_OR_LONGID

# --- Service Limits & Behavior ---
MAX_SESSION_SIZE_MB=100 # Max total size (MB) for files in a session (best-effort check)
MAX_FILE_SIZE_MB=20     # Max size (MB) for a single file upload
SESSION_TTL_SECONDS=86400 # 24 hours for inactive session cleanup check
ENABLE_INTERNAL_TTL_CLEANUP=false # Set to true to use built-in cleanup task
INTERNAL_CLEANUP_INTERVAL_SECONDS=3600 # How often internal cleanup runs if enabled

# --- Logging & Metrics ---
LOG_LEVEL=INFO # DEBUG, INFO, WARNING, ERROR, CRITICAL
METRICS_PORT=9091 # Port for Prometheus /metrics endpoint
